---
title: 缓存
date: 2022-11-21 20:27:00
---

---
## 缓存
---

1. 场景：此缓存用来记录查询的结果，然后为了不让添加、更新和删除之后，查询出来的数据还是之前缓存的，希望在进行这些操作后查询出来的是新数据。

   - 我之前的错误做法：在添加、更新和删除操作前将缓存清空。

   - 错误点：如果删完缓存的同时有请求进行了查询然后就会继续将旧数据存入缓存，即便后面数据库更新成功了，缓存里的数据还是旧数据。

   - 更正后的做法：缓存不应该直接删除，应该在数据库更新成功后，直接用新数据覆盖原来的缓存<br>

2. ......